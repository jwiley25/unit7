{"ast":null,"code":"var _jsxFileName = \"/Users/jackwiley/Documents/GitHub/unit-7-project-react-gallery-app-jwiley25/react_app/ma/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport apiKey from './config';\nimport axios from 'axios'; //Importing components\n\nimport Header from './components/Header';\nimport NotFound from './components/NotFound';\nimport Gallery from './components/Gallery';\nimport Loading from './components/Loading';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      catsImages: [],\n      dogsImages: [],\n      birdsImages: [],\n      newQuery: \"\",\n      loading: true\n    };\n\n    this.performSearch = async (query = \"cats\") => {\n      try {\n        this.setState({\n          loading: true\n        }); //Getting API request response in a async way. \n\n        let result = await axios.get(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${query}&per_page=12&format=json&nojsoncallback=1`);\n        console.log(result.data.photos.photo); //Seeting the state accordign the query. \n\n        if (query === \"cats\") {\n          this.setState({\n            catsImages: result.data.photos.photo,\n            loading: false\n          });\n        } else if (query === \"dogs\") {\n          this.setState({\n            dogsImages: result.data.photos.photo,\n            loading: false\n          });\n        } else if (query === \"birds\") {\n          this.setState({\n            birdsImages: result.data.photos.photo,\n            loading: false\n          });\n        } else {\n          this.setState({\n            images: result.data.photos.photo,\n            newQuery: query,\n            loading: false\n          });\n        }\n      } catch (error) {\n        console.log('Error fetching and parsing data', error);\n      }\n    };\n  }\n\n  //After the App component is mounted we search the photos for default cats, dogs and birds. \n  componentDidMount() {\n    this.performSearch();\n    this.performSearch(\"dogs\");\n    this.performSearch(\"birds\");\n  } //API request in order to get photo details data. Cats is by default. Using Axios.\n  //https://www.flickr.com/services/api/explore/flickr.photos.search\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      search: this.performSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/cats\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 49\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/cats\",\n      render: () => this.state.loading ? /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 70\n        }\n      }) : /*#__PURE__*/React.createElement(Gallery, {\n        data: this.state.catsImages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 84\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/dogs\",\n      render: () => this.state.loading ? /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 70\n        }\n      }) : /*#__PURE__*/React.createElement(Gallery, {\n        data: this.state.dogsImages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 84\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/birds\",\n      render: () => this.state.loading ? /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 71\n        }\n      }) : /*#__PURE__*/React.createElement(Gallery, {\n        data: this.state.birdsImages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 85\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/search/:query\",\n      render: () => this.state.loading ? /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 79\n        }\n      }) : /*#__PURE__*/React.createElement(Gallery, {\n        data: this.state.images,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 93\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      component: NotFound,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jackwiley/Documents/GitHub/unit-7-project-react-gallery-app-jwiley25/react_app/ma/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","Redirect","apiKey","axios","Header","NotFound","Gallery","Loading","App","state","images","catsImages","dogsImages","birdsImages","newQuery","loading","performSearch","query","setState","result","get","console","log","data","photos","photo","error","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport apiKey from './config';\nimport axios from 'axios';\n\n//Importing components\nimport Header from './components/Header';\nimport NotFound from './components/NotFound';\nimport Gallery from './components/Gallery';\nimport Loading from './components/Loading';\n\nclass App extends Component {\n\n  state = {\n    images: [],\n    catsImages: [],\n    dogsImages: [],\n    birdsImages:[],\n    newQuery: \"\",\n    loading: true\n  };\n   \n  //After the App component is mounted we search the photos for default cats, dogs and birds. \n  componentDidMount(){\n    this.performSearch();\n    this.performSearch(\"dogs\");\n    this.performSearch(\"birds\");\n  }\n  \n  //API request in order to get photo details data. Cats is by default. Using Axios.\n  //https://www.flickr.com/services/api/explore/flickr.photos.search\n  performSearch = async (query=\"cats\") => {\n    try{\n      this.setState({loading: true})\n\n      //Getting API request response in a async way. \n      let result = await axios.get(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${query}&per_page=12&format=json&nojsoncallback=1`);\n      console.log(result.data.photos.photo);\n\n      //Seeting the state accordign the query. \n      if(query===\"cats\") {\n        this.setState({\n          catsImages: result.data.photos.photo,\n          loading: false\n        });\n      } else if(query===\"dogs\") {\n        this.setState({\n          dogsImages: result.data.photos.photo,\n          loading: false\n        });\n      } else if(query===\"birds\") {\n        this.setState({\n          birdsImages: result.data.photos.photo,\n          loading: false\n        }); \n      } else {\n        this.setState({\n          images: result.data.photos.photo,\n          newQuery: query,\n          loading: false\n        });\n\n      }\n\n    } catch (error) {\n      console.log('Error fetching and parsing data', error);\n      }\n    }\n\n\n  render() {\n    return(\n      <BrowserRouter>\n        <div className=\"container\">\n          {/*Adding the performSearch() to the SearchForm in the Header*/}\n          <Header search={this.performSearch}/>\n\n          <Switch>\n            {/*App routes. The root path is redirected to cats */} \n            <Route exact path='/' render={() => <Redirect to='/cats'/>}/>\n            <Route path='/cats' render={() => (this.state.loading) ? <Loading /> : <Gallery data={this.state.catsImages} /> } />\n            <Route path='/dogs' render={() => (this.state.loading) ? <Loading /> : <Gallery data={this.state.dogsImages} /> } />\n            <Route path='/birds' render={() => (this.state.loading) ? <Loading /> : <Gallery data={this.state.birdsImages} /> } />\n            <Route path='/search/:query' render={() => (this.state.loading) ? <Loading /> : <Gallery data={this.state.images} /> } />\n            {/*Not found Route Error*/}\n            <Route component={NotFound}/>\n          </Switch>\n\n       </div>\n      </BrowserRouter>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}